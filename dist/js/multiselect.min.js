/*
 * @license
 *
 * Multiselect v2.5.6
 * http://crlcu.github.io/multiselect/
 *
 * Copyright (c) 2016-2020 Adrian Crisan
 * Licensed under the MIT license (https://github.com/crlcu/multiselect/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("multiselect requires jQuery");!function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<7)throw new Error("multiselect requires jQuery version 1.7 or higher")}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){"use strict";var t=function(e){function t(t,o){var n=t.prop("id");if(this.$left=t,this.$right=e(o.right).length?e(o.right):e("#"+n+"_to"),this.actions={$leftAll:e(o.leftAll).length?e(o.leftAll):e("#"+n+"_leftAll"),$rightAll:e(o.rightAll).length?e(o.rightAll):e("#"+n+"_rightAll"),$leftSelected:e(o.leftSelected).length?e(o.leftSelected):e("#"+n+"_leftSelected"),$rightSelected:e(o.rightSelected).length?e(o.rightSelected):e("#"+n+"_rightSelected"),$undo:e(o.undo).length?e(o.undo):e("#"+n+"_undo"),$redo:e(o.redo).length?e(o.redo):e("#"+n+"_redo"),$moveUp:e(o.moveUp).length?e(o.moveUp):e("#"+n+"_move_up"),$moveDown:e(o.moveDown).length?e(o.moveDown):e("#"+n+"_move_down")},delete o.leftAll,delete o.leftSelected,delete o.right,delete o.rightAll,delete o.rightSelected,delete o.undo,delete o.redo,delete o.moveUp,delete o.moveDown,this.options={keepRenderingSort:o.keepRenderingSort,submitAllLeft:void 0===o.submitAllLeft||o.submitAllLeft,submitAllRight:void 0===o.submitAllRight||o.submitAllRight,search:o.search,ignoreDisabled:void 0!==o.ignoreDisabled&&o.ignoreDisabled,matchOptgroupBy:void 0!==o.matchOptgroupBy?o.matchOptgroupBy:"label"},delete o.keepRenderingSort,o.submitAllLeft,o.submitAllRight,o.search,o.ignoreDisabled,o.matchOptgroupBy,this.callbacks=o,"function"==typeof this.callbacks.sort){var i=this.callbacks.sort;this.callbacks.sort={left:i,right:i}}this.init()}return t.prototype={init:function(){var t=this;t.undoStack=[],t.redoStack=[],t.options.keepRenderingSort&&(t.skipInitSort=!0,!1!==t.callbacks.sort&&(t.callbacks.sort={left:function(t,o){return e(t).data("position")>e(o).data("position")?1:-1},right:function(t,o){return e(t).data("position")>e(o).data("position")?1:-1}}),t.$left.attachIndex(),t.$right.each((function(t,o){e(o).attachIndex()}))),"function"==typeof t.callbacks.startUp&&t.callbacks.startUp(t.$left,t.$right),t.skipInitSort||("function"==typeof t.callbacks.sort.left&&t.$left.mSort(t.callbacks.sort.left),"function"==typeof t.callbacks.sort.right&&t.$right.each((function(o,n){e(n).mSort(t.callbacks.sort.right)}))),t.options.search&&t.options.search.left&&(t.options.search.$left=e(t.options.search.left),t.$left.before(t.options.search.$left)),t.options.search&&t.options.search.right&&(t.options.search.$right=e(t.options.search.right),t.$right.before(e(t.options.search.$right))),t.events(),"function"==typeof t.callbacks.afterInit&&t.callbacks.afterInit()},events:function(){var t=this;t.options.search&&t.options.search.$left&&t.options.search.$left.on("keyup",(function(e){if(t.callbacks.fireSearch(this.value)){s(t.$left[0],this.value),a(t.$left[0],this.value),c(t.$left[0]),f(t.$left[0])}else t.$left.find("option, optgroup").mShow()})),t.options.search&&t.options.search.$right&&t.options.search.$right.on("keyup",(function(e){if(t.callbacks.fireSearch(this.value)){s(t.$right[0],this.value),a(t.$right[0],this.value),c(t.$right)[0],f(t.$right[0])}else t.$right.find("option, optgroup").mShow()})),t.$right.closest("form").on("submit",(function(e){t.options.search&&(t.options.search.$left&&t.options.search.$left.val("").trigger("keyup"),t.options.search.$right&&t.options.search.$right.val("").trigger("keyup")),t.$left.find("option").prop("selected",t.options.submitAllLeft),t.$right.find("option").prop("selected",t.options.submitAllRight)})),t.$left.on("dblclick","option",(function(e){e.preventDefault();var o=t.$left.find("option:selected:not(.hidden)");o.length&&t.moveToRight(o,e)})),t.$left.on("click","optgroup",(function(t){"OPTGROUP"==e(t.target).prop("tagName")&&e(this).children().prop("selected",!0)})),t.$left.on("keypress",(function(e){if(13===e.keyCode){e.preventDefault();var o=t.$left.find("option:selected:not(.hidden)");o.length&&t.moveToRight(o,e)}})),t.$right.on("dblclick","option",(function(e){e.preventDefault();var o=t.$right.find("option:selected:not(.hidden)");o.length&&t.moveToLeft(o,e)})),t.$right.on("click","optgroup",(function(t){"OPTGROUP"==e(t.target).prop("tagName")&&e(this).children().prop("selected",!0)})),t.$right.on("keydown",(function(e){if(8===e.keyCode||46===e.keyCode){e.preventDefault();var o=t.$right.find("option:selected:not(.hidden)");o.length&&t.moveToLeft(o,e)}})),(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.indexOf("Trident/")>0||navigator.userAgent.indexOf("Edge/")>0)&&(t.$left.dblclick((function(e){t.actions.$rightSelected.trigger("click")})),t.$right.dblclick((function(e){t.actions.$leftSelected.trigger("click")}))),t.actions.$rightSelected.on("click",(function(o){o.preventDefault();var n=t.$left.find("option:selected:not(.hidden)");n.length&&t.moveToRight(n,o),e(this).blur()})),t.actions.$leftSelected.on("click",(function(o){o.preventDefault();var n=t.$right.find("option:selected:not(.hidden)");n.length&&t.moveToLeft(n,o),e(this).blur()})),t.actions.$rightAll.on("click",(function(o){o.preventDefault();var n=t.$left.children(":not(span):not(.hidden)");n.length&&t.moveToRight(n,o),e(this).blur()})),t.actions.$leftAll.on("click",(function(o){o.preventDefault();var n=t.$right.children(":not(span):not(.hidden)");n.length&&t.moveToLeft(n,o),e(this).blur()})),t.actions.$undo.on("click",(function(e){e.preventDefault(),t.undo(e)})),t.actions.$redo.on("click",(function(e){e.preventDefault(),t.redo(e)})),t.actions.$moveUp.on("click",(function(o){o.preventDefault();var n=t.$right.find(":selected:not(span):not(.hidden)");n.length&&t.moveUp(n,o),e(this).blur()})),t.actions.$moveDown.on("click",(function(o){o.preventDefault();var n=t.$right.find(":selected:not(span):not(.hidden)");n.length&&t.moveDown(n,o),e(this).blur()}))},moveToRight:function(e,t,o,n){var i=this;return!("function"==typeof i.callbacks.beforeMoveToRight&&!o&&!i.callbacks.beforeMoveToRight(i.$left,i.$right,e))&&("function"==typeof i.callbacks.moveToRight&&i.callbacks.moveToRight(i,e,t,o,n),i.moveFromAtoB(i.$left,i.$right,e,t,o,n),n||(i.undoStack.push(["right",e]),i.redoStack=[]),"function"!=typeof i.callbacks.sort.right||o||i.doNotSortRight||i.$right.mSort(i.callbacks.sort.right),"function"!=typeof i.callbacks.afterMoveToRight||o||i.callbacks.afterMoveToRight(i.$left,i.$right,e),i)},moveToLeft:function(e,t,o,n){var i=this;return!("function"==typeof i.callbacks.beforeMoveToLeft&&!o&&!i.callbacks.beforeMoveToLeft(i.$left,i.$right,e))&&("function"==typeof i.callbacks.moveToLeft&&i.callbacks.moveToLeft(i,e,t,o,n),i.moveFromAtoB(i.$right,i.$left,e,t,o,n),n||(i.undoStack.push(["left",e]),i.redoStack=[]),"function"!=typeof i.callbacks.sort.left||o||i.$left.mSort(i.callbacks.sort.left),"function"!=typeof i.callbacks.afterMoveToLeft||o||i.callbacks.afterMoveToLeft(i.$left,i.$right,e),i)},moveFromAtoB:function(t,o,n,i,r,l){var a=this;return"function"==typeof a.callbacks.moveFromAtoB?a.callbacks.moveFromAtoB(a,t,o,n,i,r,l):(n.each((function(t,n){var i=e(n);if(a.options.ignoreDisabled&&i.is(":disabled"))return!0;if(i.is("optgroup")||i.parent().is("optgroup")){var r=i.is("optgroup")?i:i.parent(),l="optgroup["+a.options.matchOptgroupBy+'="'+r.prop(a.options.matchOptgroupBy)+'"]',c=o.find(l);if(c.length||((c=r.clone(!0)).empty(),o.move(c)),i.is("optgroup")){var f="";a.options.ignoreDisabled&&(f=":not(:disabled)"),c.move(i.find("option"+f))}else c.move(i);r.removeIfEmpty()}else o.move(i)})),a)},moveUp:function(e){var t=this;if("function"==typeof t.callbacks.beforeMoveUp&&!t.callbacks.beforeMoveUp(e))return!1;e.first().prev().before(e),"function"==typeof t.callbacks.afterMoveUp&&t.callbacks.afterMoveUp(e)},moveDown:function(e){var t=this;if("function"==typeof t.callbacks.beforeMoveDown&&!t.callbacks.beforeMoveDown(e))return!1;e.last().next().after(e),"function"==typeof t.callbacks.afterMoveDown&&t.callbacks.afterMoveDown(e)},undo:function(e){var t=this,o=t.undoStack.pop();if(o)switch(t.redoStack.push(o),o[0]){case"left":t.moveToRight(o[1],e,!1,!0);break;case"right":t.moveToLeft(o[1],e,!1,!0)}},redo:function(e){var t=this,o=t.redoStack.pop();if(o)switch(t.undoStack.push(o),o[0]){case"left":t.moveToLeft(o[1],e,!1,!0);break;case"right":t.moveToRight(o[1],e,!1,!0)}}},t}(e);e.multiselect={defaults:{startUp:function(t,o){o.find("option").each((function(o,n){if("OPTGROUP"==e(n).parent().prop("tagName")){var i='optgroup[label="'+e(n).parent().attr("label")+'"]';t.find(i+' option[value="'+n.value+'"]').each((function(e,t){t.remove()})),t.find(i).removeIfEmpty()}else{t.find('option[value="'+n.value+'"]').remove()}}))},afterInit:function(){return!0},beforeMoveToRight:function(e,t,o){return!0},afterMoveToRight:function(e,t,o){},beforeMoveToLeft:function(e,t,o){return!0},afterMoveToLeft:function(e,t,o){},beforeMoveUp:function(e){return!0},afterMoveUp:function(e){},beforeMoveDown:function(e){return!0},afterMoveDown:function(e){},sort:function(e,t){return"NA"==e.innerHTML?1:"NA"==t.innerHTML?-1:e.innerHTML>t.innerHTML?1:-1},fireSearch:function(e){return!0}}};var o=window.navigator.userAgent,n=o.indexOf("MSIE ")>-1||o.indexOf("Trident/")>-1||o.indexOf("Edge/")>-1,i=o.indexOf("Safari/")>-1&&-1===o.indexOf("Chrome/"),r=o.toLowerCase().indexOf("firefox")>-1;e.fn.multiselect=function(o){return this.each((function(){var n=e(this),i=n.data("crlcu.multiselect"),r=e.extend({},e.multiselect.defaults,n.data(),"object"==typeof o&&o);i||n.data("crlcu.multiselect",i=new t(n,r))}))},e.fn.move=function(e){return this.append(e).find("option").prop("selected",!1),this},e.fn.removeIfEmpty=function(){return this.children().length||this.remove(),this},e.fn.mShow=function(){return this.removeClass("hidden").show(),(n||i)&&this.each((function(t,o){e(o).parent().is("span")&&e(o).parent().replaceWith(o),e(o).show()})),r&&this.prop("disabled",!1),this},e.fn.mHide=function(){return this.addClass("hidden").hide(),(n||i)&&this.each((function(t,o){e(o).parent().is("span")||e(o).wrap("<span>").hide()})),r&&this.prop("disabled",!0),this},e.fn.mSort=function(t){return this.children().sort(t).appendTo(this),this.find("optgroup").each((function(o,n){e(n).children().sort(t).appendTo(n)})),this},e.fn.attachIndex=function(){this.children().each((function(t,o){var n=e(o);n.is("optgroup")&&n.children().each((function(t,o){e(o).data("position",t)})),n.data("position",t)}))},e.expr[":"].search=function(t,o,n){var i=new RegExp(n[3].replace(/([^a-zA-Z0-9])/g,"\\$1"),"i");return e(t).text().match(i)};const l=function(e,t){return e.text.toLowerCase().indexOf(t.toLowerCase())>=0},a=function(e,t){const o=e.querySelectorAll("option:not(.hidden)");for(let e=0;e<o.length;e++)l(o[e],t)||h(o[e])},c=function(e){Array.from(e.querySelectorAll("optgroup")).filter((function(e){return Array.from(e.querySelectorAll("option.hidden")).length>0})).forEach((function(e){e.style.display="none"}))},f=function(e){Array.from(e.querySelectorAll("option:not(.hidden)")).map((function(e){return e.parentNode})).filter((function(e,t,o){return o.indexOf(e)===t})).forEach((function(e){e.style.display=""}))},s=function(e,t){const o=e.querySelectorAll("option.hidden");for(let e=0;e<o.length;e++)l(o[e],t)&&p(o[e])},h=function(e){if(e.classList.add("hidden"),e.style.display="none",(n||i)&&(!e.parentNode||"span"!==e.parentNode.tagName.toLowerCase())){var t=document.createElement("span");e.parentNode.insertBefore(t,e),t.appendChild(e)}r&&(e.disabled=!0)},p=function(e){e.classList.remove("hidden"),e.style.display="",(n||i)&&e.parentNode&&"span"===e.parentNode.tagName.toLowerCase()&&(e.parentNode.parentNode.insertBefore(e,e.parentNode),e.parentNode.parentNode.removeChild(e.parentNode)),r&&(e.disabled=!1)}}));